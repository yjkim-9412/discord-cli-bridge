# 이용약관

**최종 수정일:** 2026년 2월 15일

[English](TERMS_OF_SERVICE.md) | [한국어](TERMS_OF_SERVICE.ko.md)

## 1. 개요

discord-cli-bridge("본 소프트웨어")는 Discord 채널을 WSL 로컬 CLI 코딩 에이전트(`codex`, `claude`)에 연결하는 오픈소스 도구입니다. 본 소프트웨어를 사용함으로써 아래 약관에 동의하게 됩니다.

## 2. 약관 동의

본 소프트웨어를 설치, 설정, 또는 실행하는 것은 본 약관을 읽고 이해했으며 이에 구속됨에 동의하는 것을 의미합니다. 동의하지 않는 경우 본 소프트웨어를 사용하지 마십시오.

## 3. 보안 고지

본 소프트웨어는 Discord를 통해 수신된 명령을 기반으로 로컬 머신에서 CLI 도구를 실행합니다. 사용 전 다음 보안 특성을 반드시 이해해야 합니다:

### 3.1 CLI 실행 권한

- **Claude**는 `--dangerously-skip-permissions` 플래그로 실행되어, 모든 내장 권한 확인이 비활성화됩니다. CLI 도구는 확인 없이 파일 시스템 작업, 네트워크 요청, 코드 실행 등 모든 작업을 수행할 수 있습니다.
- **Codex**는 새 세션에 한해 읽기 전용 샌드박스를 적용합니다. 재개된 세션은 더 넓은 접근 권한을 가질 수 있습니다.
- Discord에서 받은 프롬프트는 **검증 없이** CLI 도구에 직접 전달됩니다. 본 소프트웨어는 프롬프트 내용을 검증, 필터링, 제한하지 않습니다.

### 3.2 워크스페이스 접근

- CLI 도구는 설정된 워크스페이스 디렉터리에 대한 전체 읽기/쓰기 권한으로 실행됩니다.
- `BRIDGE_WORKSPACE_ROOT` 환경변수는 **선택적** 경계를 제공합니다. 설정하지 않으면 CLI 도구는 파일 시스템의 **모든 디렉터리**에서 실행될 수 있습니다.
- 허용된 디렉터리 내 심볼릭 링크가 제한된 위치를 가리킬 수 있으며, 경로 검증은 심볼릭 링크를 따릅니다.

### 3.3 환경변수 상속

- 생성된 CLI 프로세스는 부모 Node.js 프로세스의 **모든 환경변수**를 상속받습니다. 여기에는 쉘 환경에 존재할 수 있는 API 키, 토큰, 인증 정보 및 기타 민감한 값이 포함됩니다.

### 3.4 데이터 저장 및 노출

- 세션 데이터(provider, model, 워크스페이스 경로, CLI 세션 ID)와 승인 기록(전체 프롬프트 텍스트 포함)은 `state/` 하위에 **평문** JSON 파일로 저장됩니다.
- 상태 파일은 암호화되지 않으며 기본 파일 시스템 권한을 사용합니다.
- CLI 출력, 파일 시스템 경로, 세션 ID, 에러 메시지는 Discord로 전송되며 **채널의 모든 멤버에게 표시**됩니다.

### 3.5 프로세스 격리

- CLI 도구는 Node.js 프로세스와 **동일한 사용자 권한**의 자식 프로세스로 실행됩니다. OS 수준 사용자 권한 외에 샌드박싱, 컨테이너화, 리소스 제한(CPU, 메모리, 디스크 I/O)이 없습니다.
- 악의적이거나 의도하지 않은 프롬프트로 인해 CLI 도구가 파일을 읽거나 수정 또는 삭제하고, 네트워크 요청을 하거나, 과도한 시스템 리소스를 소비할 수 있습니다.

### 3.6 승인 워크플로우

- 승인 시스템은 **편의 기능이며 보안 경계가 아닙니다**. 사용 조율을 위해 설계되었으며 악의적 실행을 방지하기 위한 것이 아닙니다.
- 비 오너 사용자는 어떤 프롬프트든 실행을 요청할 수 있습니다. 승인 ID는 4바이트 엔트로피를 사용합니다.

### 3.7 인증

- 오너 신원은 단일 Discord 사용자 ID 문자열 매칭으로 확인됩니다. 보안은 전적으로 Discord 계정의 무결성에 의존합니다.
- 다중 인증, 감사 로깅, 속도 제한이 본 소프트웨어에 내장되어 있지 않습니다.

## 4. 보증 부인

본 소프트웨어는 상품성, 특정 목적 적합성, 비침해성에 대한 보증을 포함하여 명시적이든 묵시적이든 어떠한 종류의 보증도 없이 "있는 그대로" 제공됩니다.

저자와 기여자는 다음에 대해 어떠한 보증도 하지 않습니다:
- 본 소프트웨어의 보안, 신뢰성, 가용성
- 본 소프트웨어가 실행하는 서드파티 CLI 도구(codex, claude)의 동작
- 본 소프트웨어가 처리, 저장, 전송하는 데이터의 보호
- 무단 접근, 데이터 손실, 시스템 손상의 방지

## 5. 책임 제한

어떠한 경우에도 저자, 기여자, 저작권자는 계약, 불법행위 또는 기타 소송의 형태를 불문하고, 본 소프트웨어 또는 본 소프트웨어의 사용이나 기타 거래에서 발생하는 어떠한 청구, 손해, 기타 책임에 대해서도 책임지지 않습니다.

여기에는 다음이 포함되지만 이에 국한되지 않습니다:
- CLI 실행으로 인한 데이터 손실 또는 손상
- 파일, 인증 정보, 시스템에 대한 무단 접근
- 의도하지 않은 코드 실행, 파일 수정 또는 삭제
- 서비스 중단, 리소스 고갈, 시스템 손상
- Discord 메시지 또는 상태 파일을 통한 민감 정보 노출

## 6. 사용자 책임

본 소프트웨어를 사용함으로써 다음에 동의합니다:

- **환경 보안**: 제한된 사용자 계정으로 소프트웨어를 실행하고, `BRIDGE_WORKSPACE_ROOT`를 설정하며, 프로세스에 노출되는 환경변수를 제한하십시오.
- **Discord 계정 보호**: Discord 계정이 봇을 제어합니다. 계정 탈취 시 전체 실행 권한이 부여됩니다.
- **실행 모니터링**: CLI 출력을 검토하고 시스템 리소스를 모니터링하십시오. 본 소프트웨어는 CLI 도구의 동작을 제한하지 않습니다.
- **상태 파일 관리**: `state/` 및 `config/` 디렉터리를 적절한 파일 시스템 권한으로 보호하고, 저장된 데이터를 주기적으로 검토 및 정리하십시오.
- **서드파티 약관 준수**: Codex, Claude, Discord의 각 이용약관을 준수하여 사용하십시오.

## 7. 약관 변경

본 약관은 언제든 변경될 수 있습니다. 변경 후 소프트웨어를 계속 사용하면 개정된 약관에 동의하는 것으로 간주됩니다. 변경 사항은 업데이트된 날짜와 함께 본 파일에 반영됩니다.

## 8. 라이선스

본 소프트웨어는 [MIT 라이선스](LICENSE)에 따라 배포됩니다. 본 이용약관은 MIT 라이선스를 보충하지만 대체하지 않습니다.
